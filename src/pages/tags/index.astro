---
import PageLayout from "$src/layouts/PageLayout.astro"
import * as blog from "$src/js/posts.js"

const posts = blog.sortedPosts(Astro.fetchContent("../../content/posts/*.md"))
const uniquetags = blog.uniqueTags(posts)
---

<PageLayout title="Tags">
  <div class="wrapper">
    <ul>
      {uniquetags.map((tag) => (
        <li>
        <a href={`/tags/${tag}`}>
          {tag} (
          {posts.filter((post) => post.tags?.find((t) => t === tag)).length})
        </a>
        </li>
      ))}
    </ul>
  </div>
</PageLayout>
